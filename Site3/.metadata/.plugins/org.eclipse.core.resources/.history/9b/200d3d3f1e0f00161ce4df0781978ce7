package fabflix;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.Statement;
import java.util.ArrayList;

import javax.servlet.http.HttpServletRequest;

import com.sun.rowset.CachedRowSetImpl;

public class QueryTester {
	private static final int STRING_ARG_TYPE = 0;
	private static final int INT_ARG_TYPE = 1;
	public String getGenreQueryString(HttpServletRequest request, ArrayList<String> argumentList, ArrayList<Integer> argumentTypes){

    	argumentList.add(request.getParameter("id")+"%");
    	argumentTypes.add(STRING_ARG_TYPE);
		return "SELECT sm.movie_id, m.title, m.year, m.director"
				+ " FROM movies m, stars s,stars_in_movies sm, genres_in_movies gm"
				+ " WHERE s.id=sm.star_id AND m.id=sm.movie_id AND m.id=gm.movie_id AND gm.genre_id = ? ";
				
    }
    public String getTitleQueryString(HttpServletRequest request, ArrayList<String> argumentList, ArrayList<Integer> argumentTypes){
    	
    	argumentList.add(request.getParameter("browseletter")+"%");
    	argumentTypes.add(STRING_ARG_TYPE);
    	return "SELECT sm.movie_id, m.title, m.year, m.director"
			+ " FROM movies m, stars s, " + "stars_in_movies sm"
			+ " WHERE s.id=sm.star_id AND m.id=sm.movie_id AND m.title LIKE ? ";
			
    }
	public static void main(String[] args) {
		Connection conn = null;
		Statement stmt = null;
		PreparedStatement prepStmt = null;
		Statement stmt2 = null;
		ResultSet rs = null;
		ResultSet starList = null;
		ResultSet genreList = null;
		ResultSet cartQuery = null;
		CachedRowSetImpl crs = null;
		ArrayList<String> argumentList = new ArrayList<String>();
		ArrayList<Integer> argumentTypes = new ArrayList<Integer>();
	}

}
